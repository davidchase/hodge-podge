<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: pubsub.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: pubsub.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';


var _checkEvent = function(e) {
    if (Object.prototype.toString.call(e) !== '[object String]') {
        throw new TypeError('Event is not a string.');
    }
};

var _checkHandler = function(handler) {
    if (typeof handler !== 'function') {
        throw new TypeError('Handler is not a function');
    }
};

var handlers = {};
/**
 * Publish + Subscribe Module
 */
var pubsub = {
    /**
     * publish
     * @memberof module:common/pubsub
     * @public
     * @method
     */
    publish: function(e) {
        _checkEvent(e);

        if (!handlers[e]) {
            return;
        }

        var context = {
            e: e,
            args: [].slice.call(arguments, 1)
        };

        for (var i = 0, l = handlers[e].length; i &lt; l; i++) {
            handlers[e][i].apply(context, context.args);
        }
    },
    /**
     * subscribe
     * @memberof module:common/pubsub
     * @public
     * @method
     */
    subscribe: function(e, handler) {
        _checkEvent(e);
        _checkHandler(handler);
        (handlers[e] = handlers[e] || []).push(handler);
    },
    /**
     * unsubscribe
     * @memberof module:common/pubsub
     * @public
     * @method
     */
    unsubscribe: function() {
        var args = [].slice.call(arguments);
        var e = args[0];
        var handler = args[1];

        _checkEvent(e);
        _checkHandler(handler);

        if (e in handlers === false) {
            return;
        }
        handlers[e].splice(handlers[e].indexOf(handler), 1);
    }
};
/**
 * @module common/pubsub
 */
module.exports = pubsub;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="pubsub.html">common/pubsub</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Sun Aug 17 2014 09:03:22 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
